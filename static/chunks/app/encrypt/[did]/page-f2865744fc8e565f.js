(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{3337:function(e,n,t){Promise.resolve().then(t.bind(t,5151))},6017:function(e,n,t){"use strict";t.r(n),t.d(n,{AppDrawer:function(){return G},theme:function(){return A}});var i=t(3827),r=t(9409),a=t(6780),s=t(4090),o=t(1680),d=t(8670),c=t(9885),l=t(4846),u=t(8836),p=t(4272),x=t(2858),h=t(278),g=t(6676),j=t(6436),m=t(5340),w=t(8087),Z=t(8416),f=t(9565),y=t(8740),k=t(6849),v=t(7389),P=t(781),C=t(6730),S=t(8307),H=t(8433),b=t(6285),E=t(7907);let A=(0,c.Z)({cssVarPrefix:"md-demo",colorSchemes:{light:{palette:{primary:{main:o.Z[400]},secondary:{main:d.Z[600]}}},dark:{palette:{primary:{main:o.Z[300]},secondary:{main:d.Z[600]}}}}}),D=()=>{let{mode:e,setMode:n}=(0,l.tv)(),[t,r]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{r(!0)},[]),t)?(0,i.jsx)(b.Z,{variant:"outlined",onClick:()=>{"light"===e?n("dark"):n("light")},children:"light"===e?"Dark Mode":"Light Mode"}):null},R=(0,u.ZP)("main",{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:t}=e;return{flexGrow:1,padding:n.spacing(3),transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginRight:-240,...t&&{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginRight:0},position:"relative"}}),K=(0,u.ZP)(h.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:t}=e;return{transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...t&&{width:"calc(100% - ".concat(240,"px)"),transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginRight:240}}}),M=(0,u.ZP)("div")(e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",padding:n.spacing(0,1),...n.mixins.toolbar,justifyContent:"flex-start"}}),G=e=>{let{children:n}=e,t=(0,E.useRouter)(),[o,d]=s.useState(!1);return(0,i.jsx)(l.CM,{theme:A,children:(0,i.jsxs)(p.Z,{sx:{display:"flex"},children:[(0,i.jsx)(j.ZP,{}),(0,i.jsx)(K,{position:"fixed",open:o,children:(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(w.Z,{variant:"h6",noWrap:!0,sx:{flexGrow:1},component:"div",children:"HPKE"}),(0,i.jsx)(f.Z,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:()=>{d(!0)},sx:{...o&&{display:"none"}},children:(0,i.jsx)(y.Z,{})})]})}),(0,i.jsxs)(R,{open:o,children:[(0,i.jsx)(M,{}),n]}),(0,i.jsxs)(x.ZP,{sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240}},variant:"persistent",anchor:"right",open:o,children:[(0,i.jsx)(M,{children:(0,i.jsx)(f.Z,{onClick:()=>{d(!1)},children:"rtl"===A.direction?(0,i.jsx)(k.Z,{}):(0,i.jsx)(v.Z,{})})}),(0,i.jsx)(Z.Z,{}),(0,i.jsxs)(m.Z,{children:[(0,i.jsx)(P.ZP,{disablePadding:!0,children:(0,i.jsxs)(C.Z,{onClick:()=>{t.push("/")},children:[(0,i.jsx)(S.Z,{children:(0,i.jsx)(r.Z,{})}),(0,i.jsx)(H.Z,{primary:"Home"})]})}),(0,i.jsx)(P.ZP,{disablePadding:!0,children:(0,i.jsxs)(C.Z,{onClick:()=>{t.push("/about")},children:[(0,i.jsx)(S.Z,{children:(0,i.jsx)(a.Z,{})}),(0,i.jsx)(H.Z,{primary:"About"})]})})]}),(0,i.jsx)(Z.Z,{sx:{flexGrow:1}}),(0,i.jsx)(p.Z,{sx:{p:2},children:(0,i.jsx)(D,{})})]})]})})}},5151:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var i=t(3827),r=t(6017),a=t(4272),s=t(6285),o=t(4090),d=t(7056),c=t(8087),l=t(7907),u=t(4784),p=t(6236),x=t(6582),h=t(5492),g=t(6323),j=t(7982);function m(){let e=(0,l.useRouter)(),n=(0,l.useParams)(),[t,m]=o.useState("# ⌛ My lungs taste the air of Time Blown past falling sands ⌛"),w=async()=>{let i=JSON.parse(new TextDecoder().decode(d.tH.decode(decodeURIComponent(n.did).replace("did:jwk:","")))),r=new TextEncoder().encode(t),a=await x.o.encrypt(r,i);e.push("/decrypt/"+"did:jwe:".concat(a))};return(0,i.jsxs)(r.AppDrawer,{children:[(0,i.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"row",mb:2},children:[(0,i.jsx)(a.Z,{sx:{flexGrow:1},children:(0,i.jsx)(c.Z,{variant:"h6",component:"div",children:"Recipient"})}),(0,i.jsx)(a.Z,{children:(0,i.jsx)(s.Z,{variant:"outlined",color:"secondary",onClick:w,endIcon:(0,i.jsx)(p.Z,{}),children:"Encrypt"})})]}),(0,i.jsx)(u.Z,{deleteIcon:(0,i.jsx)(p.Z,{}),onDelete:()=>{},label:decodeURIComponent(n.did).substring(0,32)+"..."}),(0,i.jsx)(a.Z,{sx:{mt:2},children:(0,i.jsx)(h.ZP,{theme:j.Br,value:t,onChange:e=>{m(e)},extensions:[(0,g.JH)(),h.tk.lineWrapping]})})]})}},6582:function(e,n,t){"use strict";t.d(n,{o:function(){return i}});var i={};t.r(i),t.d(i,{decrypt:function(){return u},encrypt:function(){return l}});var r=t(7056),a=t(9860);let s={"HPKE-Base-P256-SHA256-AES128GCM":new a.vN({kem:a.ML.DhkemP256HkdfSha256,kdf:a.AC.HkdfSha256,aead:a.R9.Aes128Gcm}),"HPKE-Base-P384-SHA256-AES128GCM":new a.vN({kem:a.ML.DhkemP384HkdfSha384,kdf:a.AC.HkdfSha256,aead:a.R9.Aes128Gcm})},o=e=>Object.keys(s).includes("".concat(e.alg)),d=async e=>await window.crypto.subtle.importKey("jwk",e,{name:"ECDH",namedCurve:e.crv},!0,[]),c=async e=>await crypto.subtle.importKey("jwk",e,{name:"ECDH",namedCurve:e.crv},!0,["deriveBits","deriveKey"]),l=async(e,n)=>{if(!o(n))throw Error("Public key algorithm is not supported");let t=s[n.alg],i=await t.createSenderContext({recipientPublicKey:await d(n)}),a=r.tH.encode(new Uint8Array(i.enc)),c=r.tH.encode(JSON.stringify({alg:n.alg,epk:{kty:"EK",ek:a}})),l=new TextEncoder().encode(c),u=r.tH.encode(new Uint8Array(await i.seal(e,l)));return"".concat(c,"...").concat(u,".")},u=async(e,n)=>{if(!o(n))throw Error("Public key algorithm is not supported");let t=s[n.alg],[i,a,d,l,u]=e.split("."),p=JSON.parse(new TextDecoder().decode(r.tH.decode(i))),x=await t.createRecipientContext({recipientKey:await c(n),enc:r.tH.decode(p.epk.ek)}),h=new TextEncoder().encode(i),g=await x.open(r.tH.decode(l),h);return new Uint8Array(g)}}},function(e){e.O(0,[401,337,399,197,971,69,744],function(){return e(e.s=3337)}),_N_E=e.O()}]);