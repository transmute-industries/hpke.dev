(()=>{var e={};e.id=895,e.ids=[895],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},2254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},5673:e=>{"use strict";e.exports=require("node:events")},8849:e=>{"use strict";e.exports=require("node:http")},2286:e=>{"use strict";e.exports=require("node:https")},7261:e=>{"use strict";e.exports=require("node:util")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},2536:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>f,originalPathname:()=>p,pages:()=>l,routeModule:()=>d,tree:()=>s});var n=r(482),o=r(9108),i=r(2563),a=r.n(i),c=r(8300),u={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>c[e]);r.d(t,u);let s=["",{children:["decrypt",{children:["[did]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3448)),"/home/runner/work/hpke.dev/hpke.dev/app/decrypt/[did]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2917)),"/home/runner/work/hpke.dev/hpke.dev/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/home/runner/work/hpke.dev/hpke.dev/app/decrypt/[did]/page.tsx"],p="/decrypt/[did]/page",f={require:r,loadChunk:()=>Promise.resolve()},d=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/decrypt/[did]/page",pathname:"/decrypt/[did]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:s}})},6453:(e,t,r)=>{Promise.resolve().then(r.bind(r,9041))},9041:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eD});var n=r(5344),o=r(6314),i=r(6739),a=r(2850),c=r(3729),u=r.n(c),s=r(4047),l=r(8428),p=r(4742),f=r(8761),d=r(4420),m=r(7470),v=r.n(m);function y(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function c(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,c)}u((n=n.apply(e,t||[])).next())})}function g(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function b(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var x=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function w(e,t){var r=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var r=t.split(".").pop().toLowerCase(),n=x.get(r);n&&Object.defineProperty(e,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof r.path){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:"string"==typeof t?t:"string"==typeof n&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}var D=[".DS_Store","Thumbs.db"];function j(e){return"object"==typeof e&&null!==e}function k(e){return e.filter(function(e){return -1===D.indexOf(e.name)})}function A(e){if(null===e)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function O(e){if("function"!=typeof e.webkitGetAsEntry)return P(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?S(t):P(e)}function P(e){var t=e.getAsFile();return t?Promise.resolve(w(t)):Promise.reject("".concat(e," is not a File"))}function E(e){return y(this,void 0,void 0,function(){return g(this,function(t){return[2,e.isDirectory?S(e):function(e){return y(this,void 0,void 0,function(){return g(this,function(t){return[2,new Promise(function(t,r){e.file(function(r){t(w(r,e.fullPath))},function(e){r(e)})})]})})}(e)]})})}function S(e){var t=e.createReader();return new Promise(function(e,r){var n=[];!function o(){var i=this;t.readEntries(function(t){return y(i,void 0,void 0,function(){var i;return g(this,function(a){switch(a.label){case 0:if(t.length)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.all(n)];case 2:return e(a.sent()),[3,4];case 3:return r(a.sent()),[3,4];case 4:return[3,6];case 5:i=Promise.all(t.map(E)),n.push(i),o(),a.label=6;case 6:return[2]}})})},function(e){r(e)})}()})}var C=r(79);function F(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){z(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw n}}return i}}(e,t)||I(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var q=function(e){var t=Array.isArray(e=Array.isArray(e)&&1===e.length?e[0]:e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},Z=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},H=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},L={code:"too-many-files",message:"Too many files"};function K(e,t){var r="application/x-moz-file"===e.type||(0,C.Z)(e,t);return[r,r?null:q(t)]}function B(e,t,r){if(G(e.size)){if(G(t)&&G(r)){if(e.size>r)return[!1,Z(r)];if(e.size<t)return[!1,H(t)]}else if(G(t)&&e.size<t)return[!1,H(t)];else if(G(r)&&e.size>r)return[!1,Z(r)]}return[!0,null]}function G(e){return null!=e}function U(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function $(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function N(e){e.preventDefault()}function W(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return t.some(function(t){return!U(e)&&t&&t.apply(void 0,[e].concat(n)),U(e)})}}function J(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function V(e){return/^.*\.[\w]+$/.test(e)}var Y=["children"],X=["open"],Q=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ee=["refKey","onChange","onClick"];function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw n}}return i}}(e,t)||er(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){if(e){if("string"==typeof e)return en(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return en(e,t)}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach(function(t){ea(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ea(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ec(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var eu=(0,c.forwardRef)(function(e,t){var r=e.children,n=ep(ec(e,Y)),o=n.open,i=ec(n,X);return(0,c.useImperativeHandle)(t,function(){return{open:o}},[o]),u().createElement(c.Fragment,null,r(ei(ei({},i),{},{open:o})))});eu.displayName="Dropzone";var es={disabled:!1,getFilesFromEvent:function(e){return y(this,void 0,void 0,function(){return g(this,function(t){return j(e)&&j(e.dataTransfer)?[2,function(e,t){return y(this,void 0,void 0,function(){var r;return g(this,function(n){switch(n.label){case 0:if(!e.items)return[3,2];if(r=A(e.items).filter(function(e){return"file"===e.kind}),"drop"!==t)return[2,r];return[4,Promise.all(r.map(O))];case 1:return[2,k(function e(t){return t.reduce(function(t,r){return b(b([],h(t),!1),h(Array.isArray(r)?e(r):[r]),!1)},[])}(n.sent()))];case 2:return[2,k(A(e.files).map(function(e){return w(e)}))]}})})}(e.dataTransfer,e.type)]:j(e)&&j(e.target)?[2,A(e.target.files).map(function(e){return w(e)})]:Array.isArray(e)&&e.every(function(e){return"getFile"in e&&"function"==typeof e.getFile})?[2,function(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return e.getFile()}))];case 1:return[2,t.sent().map(function(e){return w(e)})]}})})}(e)]:[2,[]]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};eu.defaultProps=es,eu.propTypes={children:v().func,accept:v().objectOf(v().arrayOf(v().string)),multiple:v().bool,preventDropOnDocument:v().bool,noClick:v().bool,noKeyboard:v().bool,noDrag:v().bool,noDragEventsBubbling:v().bool,minSize:v().number,maxSize:v().number,maxFiles:v().number,disabled:v().bool,getFilesFromEvent:v().func,onFileDialogCancel:v().func,onFileDialogOpen:v().func,useFsAccessApi:v().bool,autoFocus:v().bool,onDragEnter:v().func,onDragLeave:v().func,onDragOver:v().func,onDrop:v().func,onDropAccepted:v().func,onDropRejected:v().func,onError:v().func,validator:v().func};var el={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ep(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ei(ei({},es),e),r=t.accept,n=t.disabled,o=t.getFilesFromEvent,i=t.maxSize,a=t.minSize,u=t.multiple,s=t.maxFiles,l=t.onDragEnter,p=t.onDragLeave,f=t.onDragOver,d=t.onDrop,m=t.onDropAccepted,v=t.onDropRejected,y=t.onFileDialogCancel,g=t.onFileDialogOpen,h=t.useFsAccessApi,b=t.autoFocus,x=t.preventDropOnDocument,w=t.noClick,D=t.noKeyboard,j=t.noDrag,k=t.noDragEventsBubbling,A=t.onError,O=t.validator,P=(0,c.useMemo)(function(){return function(e){if(G(e))return Object.entries(e).reduce(function(e,t){var r=_(t,2),n=r[0],o=r[1];return[].concat(F(e),[n],F(o))},[]).filter(function(e){return J(e)||V(e)}).join(",")}(r)},[r]),E=(0,c.useMemo)(function(){return G(r)?[{description:"Files",accept:Object.entries(r).filter(function(e){var t=_(e,2),r=t[0],n=t[1],o=!0;return J(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),Array.isArray(n)&&n.every(V)||(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(e,t){var r=_(t,2),n=r[0],o=r[1];return R(R({},e),{},z({},n,o))},{})}]:r},[r]),S=(0,c.useMemo)(function(){return"function"==typeof g?g:ed},[g]),C=(0,c.useMemo)(function(){return"function"==typeof y?y:ed},[y]),T=(0,c.useRef)(null),I=(0,c.useRef)(null),M=et((0,c.useReducer)(ef,el),2),q=M[0],Z=M[1],H=q.isFocused,Y=q.isFileDialogActive,X=(0,c.useRef)(!1),eo=function(){!X.current&&Y&&setTimeout(function(){I.current&&!I.current.files.length&&(Z({type:"closeDialog"}),C())},300)};(0,c.useEffect)(function(){return window.addEventListener("focus",eo,!1),function(){window.removeEventListener("focus",eo,!1)}},[I,Y,C,X]);var eu=(0,c.useRef)([]),ep=function(e){T.current&&T.current.contains(e.target)||(e.preventDefault(),eu.current=[])};(0,c.useEffect)(function(){return x&&(document.addEventListener("dragover",N,!1),document.addEventListener("drop",ep,!1)),function(){x&&(document.removeEventListener("dragover",N),document.removeEventListener("drop",ep))}},[T,x]),(0,c.useEffect)(function(){return!n&&b&&T.current&&T.current.focus(),function(){}},[T,b,n]);var em=(0,c.useCallback)(function(e){A?A(e):console.error(e)},[A]),ev=(0,c.useCallback)(function(e){var t;e.preventDefault(),e.persist(),eE(e),eu.current=[].concat(function(e){if(Array.isArray(e))return en(e)}(t=eu.current)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||er(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.target]),$(e)&&Promise.resolve(o(e)).then(function(t){if(!U(e)||k){var r,n,o,c,p,f,d,m,v=t.length,y=v>0&&(n=(r={files:t,accept:P,minSize:a,maxSize:i,multiple:u,maxFiles:s,validator:O}).files,o=r.accept,c=r.minSize,p=r.maxSize,f=r.multiple,d=r.maxFiles,m=r.validator,(!!f||!(n.length>1))&&(!f||!(d>=1)||!(n.length>d))&&n.every(function(e){var t=_(K(e,o),1)[0],r=_(B(e,c,p),1)[0],n=m?m(e):null;return t&&r&&!n}));Z({isDragAccept:y,isDragReject:v>0&&!y,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e)}}).catch(function(e){return em(e)})},[o,l,em,k,P,a,i,u,s,O]),ey=(0,c.useCallback)(function(e){e.preventDefault(),e.persist(),eE(e);var t=$(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&f&&f(e),!1},[f,k]),eg=(0,c.useCallback)(function(e){e.preventDefault(),e.persist(),eE(e);var t=eu.current.filter(function(e){return T.current&&T.current.contains(e)}),r=t.indexOf(e.target);-1!==r&&t.splice(r,1),eu.current=t,!(t.length>0)&&(Z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$(e)&&p&&p(e))},[T,p,k]),eh=(0,c.useCallback)(function(e,t){var r=[],n=[];e.forEach(function(e){var t=et(K(e,P),2),o=t[0],c=t[1],u=et(B(e,a,i),2),s=u[0],l=u[1],p=O?O(e):null;if(o&&s&&!p)r.push(e);else{var f=[c,l];p&&(f=f.concat(p)),n.push({file:e,errors:f.filter(function(e){return e})})}}),(!u&&r.length>1||u&&s>=1&&r.length>s)&&(r.forEach(function(e){n.push({file:e,errors:[L]})}),r.splice(0)),Z({acceptedFiles:r,fileRejections:n,type:"setFiles"}),d&&d(r,n,t),n.length>0&&v&&v(n,t),r.length>0&&m&&m(r,t)},[Z,u,P,a,i,s,d,m,v,O]),eb=(0,c.useCallback)(function(e){e.preventDefault(),e.persist(),eE(e),eu.current=[],$(e)&&Promise.resolve(o(e)).then(function(t){(!U(e)||k)&&eh(t,e)}).catch(function(e){return em(e)}),Z({type:"reset"})},[o,eh,em,k]),ex=(0,c.useCallback)(function(){if(X.current){Z({type:"openDialog"}),S(),window.showOpenFilePicker({multiple:u,types:E}).then(function(e){return o(e)}).then(function(e){eh(e,null),Z({type:"closeDialog"})}).catch(function(e){e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)?(C(e),Z({type:"closeDialog"})):e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)?(X.current=!1,I.current?(I.current.value=null,I.current.click()):em(Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):em(e)});return}I.current&&(Z({type:"openDialog"}),S(),I.current.value=null,I.current.click())},[Z,S,C,h,eh,em,E,u]),ew=(0,c.useCallback)(function(e){T.current&&T.current.isEqualNode(e.target)&&(" "===e.key||"Enter"===e.key||32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),ex())},[T,ex]),eD=(0,c.useCallback)(function(){Z({type:"focus"})},[]),ej=(0,c.useCallback)(function(){Z({type:"blur"})},[]),ek=(0,c.useCallback)(function(){w||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return -1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/")}()?setTimeout(ex,0):ex())},[w,ex]),eA=function(e){return n?null:e},eO=function(e){return D?null:eA(e)},eP=function(e){return j?null:eA(e)},eE=function(e){k&&e.stopPropagation()},eS=(0,c.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=e.role,o=e.onKeyDown,i=e.onFocus,a=e.onBlur,c=e.onClick,u=e.onDragEnter,s=e.onDragOver,l=e.onDragLeave,p=e.onDrop,f=ec(e,Q);return ei(ei(ea({onKeyDown:eO(W(o,ew)),onFocus:eO(W(i,eD)),onBlur:eO(W(a,ej)),onClick:eA(W(c,ek)),onDragEnter:eP(W(u,ev)),onDragOver:eP(W(s,ey)),onDragLeave:eP(W(l,eg)),onDrop:eP(W(p,eb)),role:"string"==typeof r&&""!==r?r:"presentation"},void 0===t?"ref":t,T),n||D?{}:{tabIndex:0}),f)}},[T,ew,eD,ej,ek,ev,ey,eg,eb,D,j,n]),eC=(0,c.useCallback)(function(e){e.stopPropagation()},[]),eF=(0,c.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=e.onChange,n=e.onClick,o=ec(e,ee);return ei(ei({},ea({accept:P,multiple:u,type:"file",style:{display:"none"},onChange:eA(W(r,eb)),onClick:eA(W(n,eC)),tabIndex:-1},void 0===t?"ref":t,I)),o)}},[I,r,u,eb,n]);return ei(ei({},q),{},{isFocused:H&&!n,getRootProps:eS,getInputProps:eF,rootRef:T,inputRef:I,open:eA(ex)})}function ef(e,t){switch(t.type){case"focus":return ei(ei({},e),{},{isFocused:!0});case"blur":return ei(ei({},e),{},{isFocused:!1});case"openDialog":return ei(ei({},el),{},{isFileDialogActive:!0});case"closeDialog":return ei(ei({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ei(ei({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ei(ei({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return ei({},el);default:return e}}function ed(){}var em=r(311),ev=r(9800);let ey=({onFilesAccepted:e,sx:t,dragText:r,dropText:o})=>{let{getRootProps:i,getInputProps:u,isDragActive:l}=ep({onDrop:(0,c.useCallback)(t=>{e(t)},[e])});return(0,n.jsxs)(a.Z,{...i(),align:"center",style:{border:l?"1px "+ev.Z.A200+" dashed":"1px "+em.Z.A200+" dashed",boxShadow:"none",textAlign:"center",cursor:"pointer"},sx:{height:96,display:"flex",flexDirection:"column",justifyContent:"center",...t},children:[n.jsx("input",{...u()}),l?n.jsx(s.Z,{color:ev.Z.A200,children:o||"Drop file here."}):n.jsx(s.Z,{color:em.Z.A200,children:r||"Drag file here."})]})};var eg=r(1480),eh=r(853),eb=r(6213),ex=r(3431),ew=r(5418);function eD(){let e=(0,l.useParams)(),[t,r]=c.useState(),u=async t=>{let[n]=t,o=JSON.parse(await n.text()),i=decodeURIComponent(e.did).replace("did:jwe:",""),a=await d.o.decrypt(i,o);r(new TextDecoder().decode(a))};return(0,n.jsxs)(o.AppDrawer,{children:[n.jsx(i.Z,{sx:{display:"flex",flexDirection:"row",mb:2},children:n.jsx(i.Z,{sx:{flexGrow:1},children:n.jsx(s.Z,{variant:"h6",component:"div",children:"Message"})})}),n.jsx(p.Z,{deleteIcon:n.jsx(f.Z,{}),onDelete:()=>{},label:decodeURIComponent(e.did).substring(0,32)+"..."}),t?n.jsx(i.Z,{sx:{mt:2},children:(0,n.jsxs)(a.Z,{sx:{p:2},children:[n.jsx(eh.Z,{sx:{mb:2},children:n.jsx(eg.Z,{})}),n.jsx(i.Z,{sx:{mt:2},children:n.jsx(eb.ZP,{theme:ew.Br,value:t,onChange:e=>{r(e)},extensions:[(0,ex.JH)(),eb.tk.lineWrapping]})})]})}):n.jsx(i.Z,{sx:{mt:2},children:n.jsx(ey,{dragText:"Drag exported private key here",dropText:"Drop to decrypt.",onFilesAccepted:u})})]})}},1480:(e,t,r)=>{"use strict";var n=r(9286);t.Z=void 0;var o=n(r(389)),i=r(5344);t.Z=(0,o.default)((0,i.jsx)("path",{d:"M21 21.78 4.22 5 3 6.22l2.04 2.04C4.42 8.6 4 9.25 4 10v10c0 1.1.9 2 2 2h12c.23 0 .45-.05.66-.12L19.78 23zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H9.66L20 18.34V10c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5-2.56 0-4.64 1.93-4.94 4.4L8.9 7.24z"}),"NoEncryption")},79:(e,t)=>{"use strict";t.Z=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return r.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?n.toLowerCase().endsWith(t):t.endsWith("/*")?i===t.replace(/\/.*$/,""):o===t})}return!0}},1541:(e,t,r)=>{"use strict";var n=r(1983);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},7470:(e,t,r)=>{"use strict";e.exports=r(1541)()},1983:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4420:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var n={};r.r(n),r.d(n,{decrypt:()=>p,encrypt:()=>l});var o=r(3692),i=r(7132);let a={"HPKE-Base-P256-SHA256-AES128GCM":new i.vN({kem:i.ML.DhkemP256HkdfSha256,kdf:i.AC.HkdfSha256,aead:i.R9.Aes128Gcm}),"HPKE-Base-P384-SHA256-AES128GCM":new i.vN({kem:i.ML.DhkemP384HkdfSha384,kdf:i.AC.HkdfSha256,aead:i.R9.Aes128Gcm})},c=e=>Object.keys(a).includes(`${e.alg}`),u=async e=>await window.crypto.subtle.importKey("jwk",e,{name:"ECDH",namedCurve:e.crv},!0,[]),s=async e=>await crypto.subtle.importKey("jwk",e,{name:"ECDH",namedCurve:e.crv},!0,["deriveBits","deriveKey"]),l=async(e,t)=>{if(!c(t))throw Error("Public key algorithm is not supported");let r=a[t.alg],n=await r.createSenderContext({recipientPublicKey:await u(t)}),i=o.tH.encode(new Uint8Array(n.enc)),s=o.tH.encode(JSON.stringify({alg:t.alg,epk:{kty:"EK",ek:i}})),l=new TextEncoder().encode(s),p=o.tH.encode(new Uint8Array(await n.seal(e,l)));return`${s}...${p}.`},p=async(e,t)=>{if(!c(t))throw Error("Public key algorithm is not supported");let r=a[t.alg],[n,i,u,l,p]=e.split("."),f=JSON.parse(new TextDecoder().decode(o.tH.decode(n))),d=await r.createRecipientContext({recipientKey:await s(t),enc:o.tH.decode(f.epk.ek)}),m=new TextEncoder().encode(n),v=await d.open(o.tH.decode(l),m);return new Uint8Array(v)}},3448:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>a});let n=(0,r(6843).createProxy)(String.raw`/home/runner/work/hpke.dev/hpke.dev/app/decrypt/[did]/page.tsx`),{__esModule:o,$$typeof:i}=n,a=n.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,719,142,529,329,182],()=>r(2536));module.exports=n})();